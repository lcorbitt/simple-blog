<h4 class="d-flex justify-content-between mb-4">
  <span>My Posts</span>
  <%= link_to 'New Post', new_post_path, class: "btn btn-primary" %>
</h4>

<% @posts.each do |post| %>
  <%= link_to edit_post_path(post), class: "text-decoration-none" do %>
    <div class="card mb-3 post-card">
      <div class="card-body">
        <div class="row">
          <div class="col-md-2">
            <% if post.hero_image.present? %>
              <div class="hero-img" style="background-image: url(<%= url_for(post.hero_image) %>);"></div>
            <% end %>
          </div>

          <div class="col-md-10">
            <% if post.published? %>
              <span class="badge bg-primary mb-2">Published</span>
            <% else %>
              <span class="badge bg-secondary mb-3">Unpublished</span>
            <% end %>
            <h5 class="card-title mb-2 text-dark"><%= post.title %></h5>
            <p class="text-secondary mb-1"><%= post.description %></p>
            <small class="text-secondary mb-0"><%= post.created_at.strftime("%B %d, %Y") %></small>
          </div>
        </div>
      </div>
    </div>
  <% end %>
<% end %>


<%
=begin%>
 <h1>Posts</h1>

<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Description</th>
      <th>Published</th>
      <th>Published at</th>
      <th>Author</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @posts.each do |post| %>
      <tr>
        <td><%= post.title %></td>
        <td><%= post.description %></td>
        <td><%= post.published %></td>
        <td><%= post.published_at %></td>
        <td><%= post.author_id %></td>
        <td><%= link_to 'Show', post %></td>
        <td><%= link_to 'Edit', edit_post_path(post) %></td>
        <td><%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Post', new_post_path %> 
<%
=end%>
